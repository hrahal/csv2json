<!DOCTYPE html>
<html>
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1654071345723272"
     crossorigin="anonymous"></script>
  <meta name="google-site-verification" content="LwRYSFMMTUYE8TOfPFC2ZlJ7CFIbSy7OjWsduyMy1U4" />
  <meta name=”viewport” content=”width=device-width, initial-scale=1″>
  <title>JSON to CSV online converter CSV to JSON online converter</title>
<style>
body {
  font-family: sans-serif;
}

.container {
  width: 1000px;
  margin: 0 auto;
}

.input-container {
  margin-bottom: 20px;
}

textarea {
  width: 980px;
  height: 200px;
  padding: 10px;
  border: 1px solid #ccc;
}

button {
  margin-top: 10px;
  padding: 10px;
  background-color: #000;
  color: #fff;
  border: 1px solid #000;
}

.json-container {
  margin-bottom: 20px;
  min-height: 400px;
}

pre {
  white-space: pre-wrap;
  margin-bottom: 0;
}

pre.json {
  padding: 10px;
  border: 1px solid #ccc;
  background-color: #f8f8f8;
  color: #000;
  font-size: 14px;
  width: 600px;
  float: left;
  min-height: 200px;
  height: auto;
  word-wrap: break-word;
}

.error, .meta {
  padding: 10px;
  border: 1px solid #ccc;
  background-color: #f8f8f8;
  color: #000;
  font-size: 14px;
  width: 190px;
  float: right;
}

.copy-button {
  background-color: #000;
  color: #fff;
  border: 1px solid #000;
  padding: 10px;
  margin-top: 10px;
  float: right;
}

#toCsv, #convert {
  margin-right: 30px;
}
</style>
</head>
<body>
<div class="container">
  <h1>JSON to CSV converter</h1>
  <div class="input-container">
    <textarea id="xml" placeholder="Enter your JSON or CSV here"></textarea>
    <button id="convert">Convert to JSON</button>
    <button id="toCsv">Convert to CSV</button>
    <button class="copy-button" onclick="copyToClipboard()">Copy Result</button>

  </div>
  <div class="json-container">
    <pre class="json" id="json"></pre>
    <title>error</title>
    <pre class="error" id="error"></pre>
    <!--pre class="meta" id="meta"></pre-->
  </div>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js" async defer></script>
<script>
let xml = document.getElementById("xml");
let json = document.getElementById("json");
let errors = document.getElementById("error");
// var meta = document.getElementById("meta");


function csvToJson() {
  let xmlText = xml.value;
  let jsonObject = Papa.parse(xmlText, { header: true });
  json.innerHTML = JSON.stringify(jsonObject.data, undefined, 2);
  errors.innerHTML = JSON.stringify(jsonObject.errors, undefined, 2);
  // meta.innerHTML = JSON.stringify(jsonObject.meta, undefined, 2);
}

function JsonToCsv() {
  let xmlText = xml.value;
  let jsonObject = Papa.unparse(xmlText);
  json.innerHTML = jsonObject
  // meta.innerHTML = JSON.stringify(jsonObject.meta, undefined, 2);
}

document.getElementById("convert").onclick = csvToJson
document.getElementById("toCsv").onclick = JsonToCsv

function copyToClipboard() {
  let jsonText = json.innerHTML;
  navigator.clipboard.writeText(jsonText);
}

</script>
</html>
